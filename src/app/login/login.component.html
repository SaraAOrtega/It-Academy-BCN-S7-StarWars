<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <form
        [formGroup]="loginForm"
        (ngSubmit)="login()"
        class="form-custom mt-5 border p-4 shadow"
      >
        <h2 class="text-center mb-4">LOGIN</h2>

        <div class="form-group mb-3">
          <label for="email" class="form-label">Email:</label>
          <input
            type="email"
            formControlName="email"
            id="email"
            class="form-control"
            required
          />

          <div class="text-danger mt-1" [hidden]="!isControlInvalid('email')">
            <small>@if (loginForm.controls['email'].errors?.['required']) { Email is required }</small>
            <small>@if (loginForm.controls['email'].errors?.['email']) { Enter a valid email }</small>
          </div>
        </div>
    

        <div class="form-group mb-3">
          <label for="password" class="form-label">Password:</label>
          <input
            type="password"
            formControlName="password"
            id="password"
            class="form-control"
            required
          />

          <div class="text-danger mt-1" [hidden]="!isControlInvalid('password')">
            <small>@if (loginForm.controls['password'].errors?.['required']) { Password is required }</small>
            <small>@if (loginForm.controls['password'].errors?.['minlength']) { Password must be at least 6 characters }</small>
          </div>
        </div>

 

        <button type="submit" class="btn w-100"> Login</button>
        @if (errorMessage) {
          <div>
            <span class="text-danger">{{ errorMessage }}</span>
          </div>
          }
        <div class="text-center my-3">
          <span>If you don't have an account, register below</span>
        </div>
        <a [routerLink]="['/register']" class="btn w-100">Register</a>


      </form>
    </div>
  </div>
</div>
